<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ping Pong Game</title>
<style>
  body {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    margin: 0;
    background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
    font-family: 'Poppins', sans-serif;
    overflow: hidden;
  }

  h1 {
    position: absolute;
    top: 20px;
    text-align: center;
    width: 100%;
    font-family: 'Press Start 2P', cursive;
    color: #fff;
    text-shadow: 0 0 5px #fff, 0 0 10px #ffdd00;
  }

  #gameContainer {
    position: relative;
    width: 700px;
    height: 450px;
    background: #111;
    border: 4px solid #fff;
    border-radius: 10px;
    overflow: hidden;
  }

  .paddle {
    position: absolute;
    width: 10px;
    height: 100px;
    background: #ffdd00;
    border-radius: 5px;
    box-shadow: 0 0 10px #ffdd00;
  }

  #playerPaddle { left: 0; }
  #computerPaddle { right: 0; }

  #ball {
    position: absolute;
    width: 20px;
    height: 20px;
    background: #0ff;
    border-radius: 50%;
    box-shadow: 0 0 10px #0ff;
  }

  #score {
    position: absolute;
    top: 10px;
    width: 100%;
    text-align: center;
    color: #fff;
    font-size: 1.2rem;
    text-shadow: 0 0 5px #fff;
  }

  #message {
    position: absolute;
    bottom: 10px;
    width: 100%;
    text-align: center;
    color: #ffdd00;
    font-size: 1rem;
    text-shadow: 0 0 5px #ffdd00;
  }

  #redirectBtn {
    position: fixed;
    top: 15px;
    right: 20px;
    padding: 8px 12px;
    background: linear-gradient(135deg, #ff416c, #ff4b2b);
    color: white;
    font-weight: bold;
    font-size: 0.9rem;
    border-radius: 8px;
    text-decoration: none;
    box-shadow: 0 4px 12px rgba(0,0,0,0.3);
    transition: transform 0.2s, box-shadow 0.2s;
    z-index: 1000; /* ensures itâ€™s always on top */
}

#redirectBtn:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 18px rgba(0,0,0,0.35);
    cursor: pointer;
}

#redirectBtn:active {
    transform: translateY(1px);
    box-shadow: 0 3px 10px rgba(0,0,0,0.25);
}

</style>
</head>
<body>
<div id="redirectBtn" target="_blank">Go to Site</div>
<h1>Ping Pong</h1>
<div id="gameContainer">
  <div id="score">Player: 0 | Computer: 0</div>
  <div id="message">Press Enter to serve</div>
  <div id="playerPaddle" class="paddle"></div>
  <div id="computerPaddle" class="paddle"></div>
  <div id="ball"></div>
</div>

<script>
const container = document.getElementById('gameContainer');
const playerPaddle = document.getElementById('playerPaddle');
const computerPaddle = document.getElementById('computerPaddle');
const ball = document.getElementById('ball');
const scoreDisplay = document.getElementById('score');
const message = document.getElementById('message');

const containerHeight = container.clientHeight;
const containerWidth = container.clientWidth;
const paddleHeight = 100;
const paddleWidth = 10;
const ballSize = 20;

let playerScore = 0;
let computerScore = 0;

// Paddle positions
let playerY = containerHeight / 2 - paddleHeight / 2;
let computerY = containerHeight / 2 - paddleHeight / 2;

// Ball position and speed
let ballX = containerWidth / 2 - ballSize / 2;
let ballY = containerHeight / 2 - ballSize / 2;
let ballSpeedX = 0;
let ballSpeedY = 0;
let speedMultiplier = 1;

// Game state
let playing = false;

// Render function
function draw() {
  playerPaddle.style.top = playerY + 'px';
  computerPaddle.style.top = computerY + 'px';
  ball.style.left = ballX + 'px';
  ball.style.top = ballY + 'px';
  scoreDisplay.textContent = `Player: ${playerScore} | Computer: ${computerScore}`;
}

// Player controls
document.addEventListener('mousemove', (e) => {
  const rect = container.getBoundingClientRect();
  playerY = e.clientY - rect.top - paddleHeight / 2;
  if(playerY < 0) playerY = 0;
  if(playerY > containerHeight - paddleHeight) playerY = containerHeight - paddleHeight;
});

// Serve ball
document.addEventListener('keydown', (e) => {
  if(e.key === 'Enter' && !playing) {
    playing = true;
    message.textContent = '';
    ballSpeedX = (Math.random() > 0.5 ? 2 : -2); // slower start
    ballSpeedY = (Math.random() * 2 - 1);
    speedMultiplier = 1;
  }
});

// Game loop
function update() {
  if(playing){
    // Move ball
    ballX += ballSpeedX * speedMultiplier;
    ballY += ballSpeedY * speedMultiplier;

    // Ball collision top/bottom
    if(ballY <= 0 || ballY + ballSize >= containerHeight) ballSpeedY = -ballSpeedY;

    // Ball collision player paddle
    if(ballX <= paddleWidth && ballY + ballSize >= playerY && ballY <= playerY + paddleHeight) {
      ballSpeedX = -ballSpeedX;
      let deltaY = ballY + ballSize/2 - (playerY + paddleHeight/2);
      ballSpeedY = deltaY * 0.25;
      speedMultiplier += 0.05; // gradually speed up
      if(speedMultiplier > 2) speedMultiplier = 2; // max speed limit
    }

    // Ball collision computer paddle
    if(ballX + ballSize >= containerWidth - paddleWidth && ballY + ballSize >= computerY && ballY <= computerY + paddleHeight) {
      ballSpeedX = -ballSpeedX;
      let deltaY = ballY + ballSize/2 - (computerY + paddleHeight/2);
      ballSpeedY = deltaY * 0.25;
      speedMultiplier += 0.05; // gradually speed up
      if(speedMultiplier > 2) speedMultiplier = 2; // max speed limit
    }

    // Move computer paddle
    computerY += ((ballY - computerY - paddleHeight/2) * 0.08);
    if(computerY < 0) computerY = 0;
    if(computerY > containerHeight - paddleHeight) computerY = containerHeight - paddleHeight;

    // Score
    if(ballX < 0) {
      computerScore++;
      endPoint();
    }
    if(ballX + ballSize > containerWidth) {
      playerScore++;
      endPoint();
    }
  }
  draw();
  requestAnimationFrame(update);
}

// End of point
function endPoint(){
  playing = false;
  ballX = containerWidth / 2 - ballSize / 2;
  ballY = containerHeight / 2 - ballSize / 2;
  ballSpeedX = 0;
  ballSpeedY = 0;
  speedMultiplier = 1;
  message.textContent = 'Press Enter to serve';
}

// Start game loop
draw();
update();

document.getElementById("redirectBtn").addEventListener("click", function() {
window.location.href = "index.html";
});


</script>

</body>
</html>
